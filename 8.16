/* Homework 8.16
 * Matthew Walker, Due ?, Windows VS2012
 * Searching for substrings within a string
 * 
 */
 
#include <stdio.h>
#include <string.h>

#define SIZE 80

int main()
{

char text [ SIZE ] = { 0 };
char search [ 20 ] = { 0 };
char *searchPtr;

// Input a line of text and a search string from the keyboard
	printf( "Enter a line of text to be searched...\n" );
        int i = 0;
        text[ i ] = getchar();
        while ( ( text[ i ] != '\n' ) ) {
            text[ ++i ] = getchar();
        }
	
	printf( "\nEnter a search string...\n" );
	scanf( "%15s", search );
	puts( "" );

// using strstr function, locate first occurrence of search string and assign location to char *searchPtr

	searchPtr = strstr( text, search );
	
// if search string found, print remainder of the line of text beginning with the search string

	if ( searchPtr ) {
		printf( "The remainder of the line beginning with ...%s...\nThe first occurrence of ...%s", search, searchPtr );

		searchPtr = strstr( searchPtr + 1, search );

		if ( searchPtr ) {
			printf( "The remainder of the line beginning with ...%s...\nThe second occurrence of ...%s", search, searchPtr );
		} else {
			printf( "The search string appeared only once.\n");
		}
	} else {
		printf( "%s ... Didn't find it.\n", search );
	}
}
