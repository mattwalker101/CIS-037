/* Homework 7.30
 * Matthew Walker, Due ?, Windows VS2012
 * Using a text-based, menu-driven program to allow user to input a radius,
 * and calculate either the circumference of a circle, the area of a circle, or
 * the volume of a sphere by using an array of function pointers in which each pointer
 * represents a function that returns void and receives a double parameter.
 * Each function should display which calculation was performed, value of the radius,
 * and the result of the calculation
 */
 
#include <stdio.h>
 
#define PI 3.14156

size_t printMenu ( size_t choice );
void findCircumference( double r, double cir );
void findArea( double r, double area );
void findVolume( double r, double volume );
 
int main( void )
{
	// initialize an array of pointers to the functions that take 2 double arguments and return void
	void( ( *f[ 3 ] )( double, double ) ) = { findCircumference, findArea, findVolume };

	size_t choice = 0;
	double r = 0, cir = 0;

	printMenu ( choice );

	while ( choice != 3)  {
		printf( "\nTell me a non-zero number, any number, for the radius... ");
		scanf_s( "%f", &r );

		( *f[ choice ] )( r, cir );
		
		printMenu ( choice );
	}

	puts( "OK, we're done. Have a great day!\n" );
	return;

}	// end main

size_t printMenu ( size_t choice )
{
	printf( "Provide me with a radius and I can tell you either...\n" );
	printf( "(0) the CIRCUMFERENCE of a circle with that radius,\n" );
	printf( "(1) the AREA of a circle with that radius,\n" );
	printf( "(2) the VOLUME of a sphere with that radius.\n" );
	printf( "(3) none of the above... Go away! :)\n" );
	printf( "Press 0 - 3 to choose which kind of math-magic to perform:  " );
	getchar( choice );
	return ( choice );
}

void findCircumference( double r, double cir )
{
	cir = 2 * PI * r;
	printf( "\nSo I am finding the CIRCUMFERENCE of a circle\n" );
	printf( "with a radius of %f... \n", r );
	printf( "And the answer is %f.\n\n", cir );
}

void findArea( double r, double area )
{
	area = PI * r * r;
	printf( "\nSo I am finding the AREA of a circle\n" );
	printf( "with a radius of %f... \n", r );
	printf( "And the answer is %f.\n\n", area );
}

void findVolume( double r, double volume )
{
	volume = ( ( 4 / 3 ) * PI * r * r * r );
	printf( "\nSo I am finding the VOLUME of a sphere\n" );
	printf( "with a radius of %f... \n", r );
	printf( "And the answer is %f.\n\n", volume );
}
